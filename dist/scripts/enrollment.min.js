(()=>{function A(r){let{namespace:e,name:k,attributes:i,classList:p,styles:m,children:M,events:h,callback:E}=r,v=k?e?document.createElementNS(e,k):document.createElement(k):document.createDocumentFragment();if(v instanceof Element){if(i)for(let s in i){let F=i[s];F!=null&&v.setAttribute(s,String(F))}if(p)for(let s of p)s!=null&&v.classList.add(String(s))}if(v instanceof HTMLElement&&m)for(let s in m){let F=m[s];F!==void 0&&v.style.setProperty(s,String(F))}if(v instanceof EventTarget&&h)for(let s in h){let F=h[s];F!=null&&v.addEventListener(s,L=>F(v,L))}if(M){for(let s of M)if(s!=null){if(typeof s=="function"){v.appendChild(A({children:[s(v)]}));continue}if(s instanceof Node){v.appendChild(s);continue}if(Array.isArray(s)){v.appendChild(A({children:s}));continue}if(typeof s=="object"){v.appendChild(A(s));continue}v.appendChild(document.createTextNode(String(s)))}}return E&&E(v,r),v}function N(r,e,...k){if(Array.isArray(e)){let[i,...p]=e;return N(r,i,...p,...k)}if(e!=null&&typeof e=="object")for(let i of r){if(!(i in e))continue;let p=e[i];if(typeof p=="object"&&p.$ref!=null){if(!(p.$ref in e))continue;p=e[p.$ref]}if(typeof p=="function")return p(...k);if(typeof p=="string"){let m=0;return p.replaceAll("%s",()=>k[m])}return p}if(typeof e=="function")return e(...k);if(typeof e=="string"){let i=0;return e.replaceAll("%s",()=>k[i])}return e}function g(r,e,k){return r[e]=k}function U(r,e={}){let{id:k,html:i,callback:p}=r,{languages:m=g(e,"languages",["en"])}=e;return A({name:"div",attributes:{id:k},callback(M){let h=M,E=N(m,i);E!=null&&h.insertAdjacentHTML("beforeend",E),p&&p(h,r,e)}})}function t(r,e){if(r&&typeof r=="object")for(let k in r){let i=r[k];if(Array.isArray(i))switch(k){case"==":return t(i[0],e)==t(i[1],e);case"===":return t(i[0],e)===t(i[1],e);case"!=":return t(i[0],e)!=t(i[1],e);case"!==":return t(i[0],e)!==t(i[1],e);case">":return t(i[0],e)>t(i[1],e);case">=":return t(i[0],e)>=t(i[1],e);case"<":return t(i[0],e)<t(i[1],e);case"<=":return t(i[0],e)<=t(i[1],e);case"+":{let p=t(i[0],e),m=t(i[1],e);return m===void 0?+p:p+m}case"-":{let p=t(i[0],e),m=t(i[1],e);return m===void 0?-p:p-m}case"*":return t(i[0],e)*t(i[1],e);case"/":return t(i[0],e)/t(i[1],e);case"%":return t(i[0],e)%t(i[1],e);case"**":return t(i[0],e)**t(i[1],e);case"&&":return t(i[0],e)&&t(i[1],e);case"||":return t(i[0],e)||t(i[1],e);case"??":return t(i[0],e)??t(i[1],e);case"!":return!t(i[0],e);case"?:":return t(i[0],e)?t(i[1],e):t(i[2],e);case",":return i.reduce((p,m)=>t(m,e),null);case"delete":return delete t(i[0],e)[t(i[1],e)];case"typeof":return typeof t(i[0],e);case"void":return void t(i[0],e);case"in":return t(i[0],e)in t(i[1],e);case"instanceof":return t(i[0],e)instanceof t(i[1],e);case"this":return t({"[]":[e,...i]},e);case"[]":{let[p,...m]=i;return m.reduce((M,h)=>M[t(h,e)],t(p,e))}case"=":return t(i[0],e)[t(i[1],e)]=t(i[2],e);case"+=":return t(i[0],e)[t(i[1],e)]+=t(i[2],e);case"-=":return t(i[0],e)[t(i[1],e)]-=t(i[2],e);case"*=":return t(i[0],e)[t(i[1],e)]*=t(i[2],e);case"/=":return t(i[0],e)[t(i[1],e)]/=t(i[2],e);case"%=":return t(i[0],e)[t(i[1],e)]%=t(i[2],e);case"**=":return t(i[0],e)[t(i[1],e)]**=t(i[2],e);case"??=":return t(i[0],e)[t(i[1],e)]??=t(i[2],e)}}return r}function G(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,disabled:M,id:h,required:E,field:v,callback:s}=r,{data:F=g(e,"data",{}),languages:L=g(e,"languages",["en"]),optionalLabel:f=g(e,"optionalLabel","Optional"),onFormBuilt:H}=e,T=[],u=i==null?null:`${h}-helpText`;u!==null&&T.push(u);let c=`${h}-valid-feedback`,O=`${h}-invalid-feedback`;T.push(c,O);let D=A({name:"div",attributes:{id:O},classList:["invalid-feedback"],children:[m==null?null:N(L,m)]}),a=A({name:"fieldset",attributes:{disabled:M==null?null:"",id:h},classList:["mb-3"],children:[k?{name:"legend",classList:["fs-6"],children:[N(L,k),E?null:{children:[" ",{name:"span",classList:["form-text","text-muted"],children:[`(${N(L,f)})`]}]}]}:null,v,i?{name:"small",attributes:{id:`${h}-helpText`},classList:["help-text","form-text","text-muted"],children:[N(L,i)]}:null,{name:"div",attributes:{id:`${h}-valid-feedback`},classList:["valid-feedback"],children:[p?N(L,p):null]},D],callback:n=>{s&&s(n,r,e)}});return{fieldSetEl:a,describedBy:T.join(" "),invalidFeedbackEl:D,initializeShowOn:(n,y)=>{H?.push(d=>{let[z,S]=n,l=Array.isArray(z)?z:[z],b=()=>{t(S,F)?(a.classList.remove("d-none"),y(!0)):(a.classList.add("d-none"),y(!1))};for(let o of l)for(let w of d.querySelectorAll(`[name="${o}"]`))w.addEventListener("input",()=>{b()});d.addEventListener("reset:after",()=>{b()}),b()})}}}var _={};function I(r=""){return _[r]||(_[r]=0),`${r}${_[r]++}`}function K(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,disabled:M,id:h=g(r,"id",I("checkbox-")),name:E,readonly:v,required:s,choices:F,value:L,bindto:f=E,disableOn:H,showOn:T,callback:u}=r,{data:c=g(e,"data",{}),languages:O=g(e,"languages",["en"]),onFormBuilt:D}=e,a=A({name:"div",classList:["form-control"],children:[...F==null?[]:F.map((l,b)=>{typeof l=="string"&&(l={value:l});let{value:o,text:w=g(l,"text",{en:o})}=l,B=`${h}-${b}`;return{name:"div",classList:["form-check"],children:[{name:"input",attributes:{checked:L==null||!L.includes(o)?null:"",id:B,name:E,readonly:v?"":null,required:s?"":null,type:"checkbox",value:o},classList:["form-check-input"]},{name:"label",attributes:{for:B},classList:["form-check-label"],children:[w?N(O,w):null]}]}})]}),{fieldSetEl:n,describedBy:y,invalidFeedbackEl:d,initializeShowOn:z}=G({title:k,helpText:i,validFeedback:p,invalidFeedback:m,disabled:M,id:`${h}-element`,required:s,field:a},e);if(f!=null)if(M)delete c[f];else{c[f]=[];for(let l of n.elements){let b=l;b.checked&&c[f].push(b.value)}}let S=()=>{if(s){let l=!0;for(let b of n.elements)if(b.checked){l=!1;break}for(let b of n.elements){let o=b;if(l){o.setAttribute("required","");continue}o.removeAttribute("required")}}};S();for(let l of n.elements){let b=l;b.setAttribute("aria-describedby",y),b.addEventListener("input",()=>{b.form?.classList.contains("was-validated")&&(a.classList.remove("is-invalid"),a.classList.add("is-valid")),S(),b.form?.classList.contains("was-validated")&&b.reportValidity()}),b.addEventListener("invalid",o=>{o.preventDefault(),b.form?.classList.contains("was-validated")&&(a.classList.remove("is-valid"),a.classList.add("is-invalid")),m==null&&(d.innerHTML=b.validationMessage)})}return D?.push(()=>{n.form&&(n.form.addEventListener("reportvalidity",()=>{n.hasAttribute("disabled")?a.classList.remove("is-valid"):a.classList.add("is-valid"),a.classList.remove("is-invalid")}),n.form.addEventListener("reset",()=>{a.classList.remove("is-valid"),a.classList.remove("is-invalid")}))}),H&&D?.push(()=>{if(!n.form)return;let[l,b]=H,o=Array.isArray(l)?l:[l],w=()=>{if(t(b,c)){if(f!=null){c[f]=[];for(let B of n.elements){let x=B;if(x.checked){c[f].push(x.value);break}}}n.setAttribute("disabled",""),a.classList.remove("is-valid"),a.classList.remove("is-invalid")}else if(f!=null&&delete c[f],n.removeAttribute("disabled"),n.form?.classList.contains("was-validated")){a.classList.add("is-valid"),a.classList.remove("is-invalid");for(let B of n.elements)B.reportValidity()}};for(let B of o)for(let x of n.form.querySelectorAll(`[name="${B}"]`))x.addEventListener("input",()=>{w()});n.form.addEventListener("reset:after",()=>{w()}),w()}),T&&z(T,l=>{if(l&&!n.hasAttribute("disabled")){if(f!=null){c[f]=[];for(let b of n.elements){let o=b;if(o.checked){c[f].push(o.value);break}}}}else f!=null&&delete c[f]}),u&&u(n,r,e),n}function P(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,id:M,field:h,required:E,callback:v}=r,{data:s=g(e,"data",{}),languages:F=g(e,"languages",["en"]),optionalLabel:L=g(e,"optionalLabel","Optional"),onFormBuilt:f}=e,H=[],T=i==null?null:`${M}-helpText`;T!==null&&H.push(T);let u=`${M}-valid-feedback`,c=`${M}-invalid-feedback`;H.push(u,c);let O=A({name:"div",attributes:{id:c},classList:["invalid-feedback"],children:[m==null?null:N(F,m)]}),D=A({name:"div",attributes:{id:M},classList:["mb-3"],children:[k==null?null:{name:"label",attributes:{for:h?.getAttribute("id")},classList:["form-label"],children:[N(F,k),E?null:{children:[" ",{name:"small",classList:["form-text","text-muted"],children:[`(${N(F,L)})`]}]}]},h,i==null?null:{name:"small",attributes:{id:T},classList:["help-text","form-text","text-muted"],children:[N(F,i)]},{name:"div",attributes:{id:u},classList:["valid-feedback"],children:[p==null?null:N(F,p)]},O],callback:a=>{v&&v(a,r,e)}});return{fieldEl:D,describedBy:H.join(" "),invalidFeedbackEl:O,initializeShowOn:(a,n)=>{f?.push(y=>{let[d,z]=a,S=Array.isArray(d)?d:[d],l=()=>{t(z,s)?(D.classList.remove("d-none"),n(!0)):(D.classList.add("d-none"),n(!1))};for(let b of S)for(let o of y.querySelectorAll(`[name="${b}"]`))o.addEventListener("input",()=>{l()});y.addEventListener("reset:after",()=>{l()}),l()})}}}function Q(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,disabled:M,id:h=g(r,"id",I("color-")),name:E,readonly:v,required:s,value:F,bindto:L=E,disableOn:f,showOn:H,callback:T}=r,{data:u=g(e,"data",{}),onFormBuilt:c}=e,O=A({name:"input",attributes:{disabled:M?"":null,id:h,name:E,readonly:v?"":null,required:s?"":null,type:"color",value:F},classList:["form-control","form-control-color"],events:{input:d=>{let z=d;L!=null&&(u[L]=z.value),z.form?.classList.contains("was-validated")&&z.reportValidity()}}});L!=null&&(M?delete u[L]:u[L]=O.value),f&&c?.push(()=>{if(!O.form)return;let[d,z]=f,S=Array.isArray(d)?d:[d],l=()=>{t(z,u)?(L!=null&&(u[L]=O.value),O.setAttribute("disabled","")):(L!=null&&delete u[L],O.removeAttribute("disabled"))};for(let b of S)for(let o of O.form.querySelectorAll(`[name="${b}"]`))o.addEventListener("input",()=>{l()});O.form.addEventListener("reset:after",()=>{l()}),l()});let{fieldEl:D,describedBy:a,invalidFeedbackEl:n,initializeShowOn:y}=P({id:`${h}-element`,title:k,required:s,field:O,helpText:i,validFeedback:p,invalidFeedback:m},e);return O.setAttribute("aria-describedby",a),O.addEventListener("invalid",d=>{d.preventDefault(),m==null&&(n.innerHTML=O.validationMessage)}),H&&y(H,d=>{d&&!O.hasAttribute("disabled")?L!=null&&(u[L]=O.value):L!=null&&delete u[L]}),T&&T(D,r,e),D}function W(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,accept:M,capture:h,disabled:E,id:v=g(r,"id",I("file-")),multiple:s,name:F,readonly:L,required:f,disableOn:H,showOn:T,uploadUrl:u,uploadMethod:c,uploadHeaders:O,uploadMessage:D=g(e,"uploadMessage","Uploading files"),bindto:a=F,callback:n}=r,{data:y=g(e,"data",{}),languages:d=g(e,"languages",["en"]),onFormBuilt:z,onFormSubmit:S}=e,l=A({name:"input",attributes:{accept:M,capture:h,disabled:E?"":null,id:v,multiple:s?"":null,name:F,readonly:L?"":null,required:f?"":null,type:"file"},classList:["form-control"],events:{input:x=>{let $=x;$.form?.classList.contains("was-validated")&&$.reportValidity()}}});u!==null&&a!==null&&S?.push((x,$)=>{if(u==null||a==null||!$||!l.files)return;l.setCustomValidity(N(d,D)),y[a]=[];let R=[];for(let C of l.files){let q=new FormData;q.append("file",C),R.push(fetch(u,{method:c,body:q,headers:O}).then(V=>V.json().then(j=>(y[a].push(j),V))))}return Promise.all(R).then(()=>{l.setCustomValidity("")})}),H&&z?.push(()=>{if(!l.form)return;let[x,$]=H,R=Array.isArray(x)?x:[x],C=()=>{t($,y)?l.setAttribute("disabled",""):l.removeAttribute("disabled")};for(let q of R)for(let V of l.form.querySelectorAll(`[name="${q}"]`))V.addEventListener("input",()=>{C()});l.form.addEventListener("reset:after",()=>{C()}),C()});let{fieldEl:b,describedBy:o,invalidFeedbackEl:w,initializeShowOn:B}=P({id:`${v}-element`,title:k,required:f,field:l,helpText:i,validFeedback:p,invalidFeedback:m},e);return l.setAttribute("aria-describedby",o),l.addEventListener("invalid",x=>{x.preventDefault(),m==null&&(w.innerHTML=l.validationMessage)}),T&&B(T,x=>{}),n&&n(b,r,e),b}function X(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,disabled:M,id:h=g(r,"id",I("radio-")),name:E,readonly:v,required:s,choices:F,value:L,bindto:f=E,disableOn:H,showOn:T,callback:u}=r,{data:c=g(e,"data",{}),languages:O=g(e,"languages",["en"]),onFormBuilt:D}=e,a=A({name:"div",classList:["form-control"],children:[...F==null?[]:F.map((S,l)=>{typeof S=="string"&&(S={value:S});let{value:b,text:o=g(S,"text",{en:b})}=S,w=`${h}-${l}`;return{name:"div",classList:["form-check"],children:[{name:"input",attributes:{checked:b!==L?null:"",id:w,name:E,readonly:v?"":null,required:s?"":null,type:"radio",value:b},classList:["form-check-input"],events:{input:B=>{let x=B;f!=null&&(c[f]=x.value),x.form?.classList.contains("was-validated")&&x.reportValidity()}}},{name:"label",attributes:{for:w},classList:["form-check-label"],children:[o?N(O,o):null]}]}})]}),{fieldSetEl:n,describedBy:y,invalidFeedbackEl:d,initializeShowOn:z}=G({title:k,helpText:i,validFeedback:p,invalidFeedback:m,disabled:M,id:`${h}-element`,required:s,field:a},e);if(f!=null)if(M)delete c[f];else{c[f]="";for(let S of n.elements){let l=S;if(l.checked){c[f]=l.value;break}}}for(let S of n.elements){let l=S;l.setAttribute("aria-describedby",y),l.addEventListener("input",()=>{l.form?.classList.contains("was-validated")&&(a.classList.remove("is-invalid"),a.classList.add("is-valid"),l.reportValidity())}),l.addEventListener("invalid",b=>{b.preventDefault(),l.form?.classList.contains("was-validated")&&(a.classList.remove("is-valid"),a.classList.add("is-invalid")),m==null&&(d.innerHTML=l.validationMessage)})}return D?.push(()=>{n.form&&(n.form.addEventListener("reportvalidity",()=>{n.hasAttribute("disabled")?a.classList.remove("is-valid"):a.classList.add("is-valid"),a.classList.remove("is-invalid")}),n.form.addEventListener("reset",()=>{a.classList.remove("is-valid"),a.classList.remove("is-invalid")}))}),H&&D?.push(()=>{if(!n.form)return;let[S,l]=H,b=Array.isArray(S)?S:[S],o=()=>{if(t(l,c)){if(f!=null){c[f]="";for(let w of n.elements){let B=w;if(B.checked){c[f]=B.value;break}}}n.setAttribute("disabled",""),a.classList.remove("is-valid"),a.classList.remove("is-invalid")}else if(f!=null&&delete c[f],n.removeAttribute("disabled"),n.form?.classList.contains("was-validated")){a.classList.add("is-valid"),a.classList.remove("is-invalid");for(let w of n.elements)w.reportValidity()}};for(let w of b)for(let B of n.form.querySelectorAll(`[name="${w}"]`))B.addEventListener("input",()=>{o()});n.form.addEventListener("reset:after",()=>{o()}),o()}),T&&z(T,S=>{if(S&&!n.hasAttribute("disabled")){if(f!=null){c[f]="";for(let l of n.elements){let b=l;if(b.checked){c[f]=b.value;break}}}}else f!=null&&delete c[f]}),u&&u(n,r,e),n}function Y(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,disabled:M,id:h=g(r,"id",I("range-")),max:E,min:v,name:s,readonly:F,required:L,step:f,value:H,disableOn:T,showOn:u,bindto:c=s,callback:O}=r,{data:D=g(e,"data",{}),onFormBuilt:a}=e,n=A({name:"input",attributes:{disabled:M?"":null,id:h,max:E,min:v,name:s,readonly:F?"":null,required:L?"":null,step:f,type:"range",value:c!=null&&D[c]!=null?D[c]:H},classList:["form-range"],events:{input:l=>{let b=l;c!=null&&(D[c]=b.value),b.form?.classList.contains("was-validated")&&b.reportValidity()}}});c!=null&&(M?delete D[c]:D[c]=n.value),T&&a?.push(()=>{if(!n.form)return;let[l,b]=T,o=Array.isArray(l)?l:[l],w=()=>{t(b,D)?(c!=null&&(D[c]=n.value),n.setAttribute("disabled","")):(c!=null&&delete D[c],n.removeAttribute("disabled"))};for(let B of o)for(let x of n.form.querySelectorAll(`[name="${B}"]`))x.addEventListener("input",()=>{w()});n.form.addEventListener("reset:after",()=>{w()}),w()});let{fieldEl:y,describedBy:d,invalidFeedbackEl:z,initializeShowOn:S}=P({id:`${h}-element`,title:k,required:L,field:n,helpText:i,validFeedback:p,invalidFeedback:m},e);return n.setAttribute("aria-describedby",d),n.addEventListener("invalid",l=>{l.preventDefault(),m==null&&(z.innerHTML=n.validationMessage)}),u&&S(u,l=>{l&&!n.hasAttribute("disabled")?c!=null&&(D[c]=n.value):c!=null&&delete D[c]}),O&&O(y,r,e),y}function Z(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,autocomplete:M,disabled:h,id:E=g(r,"id",I("select-")),multiple:v,name:s,readonly:F,required:L,size:f,choices:H,value:T,bindto:u=s,disableOn:c,showOn:O,callback:D}=r,{data:a=g(e,"data",{}),languages:n=g(e,"languages",["en"]),onFormBuilt:y}=e,d=A({name:"select",attributes:{autocomplete:M==null?null:"",disabled:h==null?null:"",id:E,multiple:v==null?null:"",name:s,readonly:F==null?null:"",required:L==null?null:"",size:f},classList:["form-select"],children:[...H==null?[]:H.map((o,w)=>{typeof o=="string"&&(o={value:o});let{value:B,text:x=g(o,"text",{en:B})}=o,$=u!=null&&a[u]!=null?a[u]:T,R=$==null?null:Array.isArray($)?$:[$];return{name:"option",attributes:{selected:(R==null?!1:R.includes(B))?"":null,value:B},children:[N(n,x)]}})],events:{input:o=>{let w=o;if(u!=null)if(v){a[u]=[];for(let B of w.selectedOptions)a[u].push(B.value)}else a[u]=w.value;w.form?.classList.contains("was-validated")&&w.reportValidity()}}});if(u!=null)if(h)delete a[u];else if(v){a[u]=[];for(let o of d.selectedOptions)a[u].push(o.value)}else a[u]=d.value;c&&y?.push(()=>{if(!d.form)return;let[o,w]=c,B=Array.isArray(o)?o:[o],x=()=>{if(t(w,a)){if(u!=null)if(v){a[u]=[];for(let $ of d.selectedOptions)a[u].push($.value)}else a[u]=d.value;d.setAttribute("disabled","")}else u!=null&&delete a[u],d.removeAttribute("disabled")};for(let $ of B)for(let R of d.form.querySelectorAll(`[name="${$}"]`))R.addEventListener("input",()=>{x()});d.form.addEventListener("reset:after",()=>{x()}),x()});let{fieldEl:z,describedBy:S,invalidFeedbackEl:l,initializeShowOn:b}=P({id:`${E}-element`,title:k,required:L,field:d,helpText:i,validFeedback:p,invalidFeedback:m},e);return d.setAttribute("aria-describedby",S),d.addEventListener("invalid",o=>{o.preventDefault(),m==null&&(l.innerHTML=d.validationMessage)}),O&&b(O,o=>{if(o&&!d.hasAttribute("disabled")){if(u!=null){a[u]=[];for(let w of d.selectedOptions)a[u].push(w.value)}}else u!=null&&delete a[u]}),D&&D(z,r,e),z}function ee(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,autocapitalize:M,autocomplete:h,autocorrect:E,cols:v,disabled:s,id:F=g(r,"id",I("textarea-")),maxlength:L,minlength:f,name:H,placeholder:T,readonly:u,required:c,rows:O,spellcheck:D,wrap:a,value:n,bindto:y=H,disableOn:d,showOn:z,callback:S}=r,{data:l=g(e,"data",{}),onFormBuilt:b}=e,o=A({name:"textarea",attributes:{autocapitalize:M?"":null,autocomplete:h?"":null,autocorrect:E,cols:v,disabled:s?"":null,id:F,maxlength:L,minlength:f,name:H,placeholder:T,readonly:u?"":null,required:c?"":null,rows:O,spellcheck:D,wrap:a},classList:["form-control"],children:[y!=null&&l[y]!=null?l[y]:n],events:{input:R=>{let C=R;y!=null&&(l[y]=C.value),C.form?.classList.contains("was-validated")&&C.reportValidity()}}});y!=null&&(s?delete l[y]:l[y]=o.value),d&&b?.push(()=>{if(!o.form)return;let[R,C]=d,q=Array.isArray(R)?R:[R],V=()=>{t(C,l)?(y!=null&&(l[y]=o.value),o.setAttribute("disabled","")):(y!=null&&delete l[y],o.removeAttribute("disabled"))};for(let j of q)for(let J of o.form.querySelectorAll(`[name="${j}"]`))J.addEventListener("input",()=>{V()});o.form.addEventListener("reset:after",()=>{V()}),V()});let{fieldEl:w,describedBy:B,invalidFeedbackEl:x,initializeShowOn:$}=P({id:`${F}-element`,title:k,required:c,field:o,helpText:i,validFeedback:p,invalidFeedback:m},e);return o.setAttribute("aria-describedby",B),o.addEventListener("invalid",R=>{R.preventDefault(),m==null&&(x.innerHTML=o.validationMessage)}),z&&$(z,R=>{R&&!o.hasAttribute("disabled")?y!=null&&(l[y]=o.value):y!=null&&delete l[y]}),S&&S(w,r,e),w}function ie(r,e={}){let{title:k,helpText:i,validFeedback:p,invalidFeedback:m,autocapitalize:M,autocomplete:h,disabled:E,list:v,max:s,maxlength:F,min:L,minlength:f,name:H,pattern:T,placeholder:u,readonly:c,required:O,size:D,step:a,type:n=g(r,"type","text"),value:y,bindto:d=H,disableOn:z,showOn:S,callback:l,id:b=g(r,"id",I(`${n}-`))}=r,{data:o=g(e,"data",{}),onFormBuilt:w}=e,B=A({name:"input",attributes:{autocapitalize:M==null?null:"",autocomplete:h==null?null:"",disabled:E==null?null:"",id:b,list:v,max:s,maxlength:F,min:L,minlength:f,name:H,placeholder:u,readonly:c==null?null:"",required:O==null?null:"",pattern:T==null?null:T instanceof RegExp?T.source:T,size:D,step:a,type:n,value:d!=null&&o[d]!=null?o[d]:y},classList:["form-control"],events:{input:q=>{let V=q;d!=null&&(o[d]=V.value),V.form?.classList.contains("was-validated")&&V.reportValidity()}}});d!=null&&(E?delete o[d]:o[d]=B.value),z&&w?.push(()=>{if(!B.form)return;let[q,V]=z,j=Array.isArray(q)?q:[q],J=()=>{t(V,o)?(d!=null&&(o[d]=B.value),B.setAttribute("disabled","")):(d!=null&&delete o[d],B.removeAttribute("disabled"))};for(let ae of j)for(let oe of B.form.querySelectorAll(`[name="${ae}"]`))oe.addEventListener("input",()=>{J()});B.form.addEventListener("reset:after",()=>{J()}),J()});let{fieldEl:x,describedBy:$,invalidFeedbackEl:R,initializeShowOn:C}=P({id:`${b}-element`,title:k,required:O,field:B,helpText:i,validFeedback:p,invalidFeedback:m},e);return B.setAttribute("aria-describedby",$),B.addEventListener("invalid",q=>{q.preventDefault(),m==null&&(R.innerHTML=B.validationMessage)}),S&&C(S,q=>{q&&!B.hasAttribute("disabled")?d!=null&&(o[d]=B.value):d!=null&&delete o[d]}),l&&l(x,r,e),x}function te(r,e={}){let{id:k,fields:i,callback:p}=r;return A({name:"div",attributes:{id:k},classList:["row"],children:[...i==null?[]:i.map(m=>{let{type:M}=m;if(M==="break")return{name:"div",classList:["w-100"]};let{cols:h={sm:""},...E}=m,v=[];if(typeof h=="object"&&h!=null){let{xs:L=12,sm:f,md:H,lg:T,xl:u,xxl:c}=h;L==null&&f==null&&H==null&&T==null&&u==null&&c==null?v.push("col"):(L!=null&&v.push(L===""?"col-xs":`col-xs-${L}`),f!=null&&v.push(f===""?"col-sm":`col-sm-${f}`),H!=null&&v.push(H===""?"col-md":`col-md-${H}`),T!=null&&v.push(T===""?"col-lg":`col-lg-${T}`),u!=null&&v.push(u===""?"col-xl":`col-xl-${u}`),c!=null&&v.push(c===""?"col-xxl":`col-xxl-${c}`))}else v.push(h===""||h==null?"col":`col-${h}`);let s,{type:F}=E;switch(F){case"html":s=U(E,e);break;case"checkbox":s=K(E,e);break;case"color":s=Q(E,e);break;case"file":s=W(E,e);break;case"radio":s=X(E,e);break;case"range":s=Y(E,e);break;case"select":s=Z(E,e);break;case"textarea":s=ee(E,e);break;case"date":case"datetime-local":case"email":case"number":case"password":case"search":case"tel":case"text":case"time":case"url":default:s=ie(E,e)}return s instanceof DocumentFragment?{name:"div",classList:v,children:[s]}:(s.classList.add(...v),s)})],callback(m){p&&p(m,r,e)}})}function le(r,e={}){let{id:k,title:i,rows:p,callback:m}=r,{languages:M=g(e,"languages",["en"])}=e;return A({name:"div",attributes:{id:k},classList:["card","mb-3"],children:[i==null?null:{name:"h2",classList:["h5","card-header"],children:[N(M,i)]},{name:"div",classList:["card-body"],children:[...p==null?[]:p.map(h=>{let{type:E}=h;switch(E){case"html":return U(h,e);case"row":default:return te(h,e)}})]}],callback(h){m&&m(h,r,e)}})}function ne(r,e={}){let{title:k,resetLabel:i,submitLabel:p,action:m,enctype:M,id:h,method:E,sections:v,submitAsJson:s,submitAsJsonHeaders:F,submitAsJsonSuccessUrl:L,submitAsJsonErrorUrl:f,callback:H}=r,{data:T=g(e,"data",{}),languages:u=g(e,"languages",["en"]),onFormBuilt:c=g(e,"onFormBuilt",[]),onFormSubmit:O=g(e,"onFormSubmit",[])}=e;return A({name:"form",attributes:{action:m instanceof URL?m.href:m,enctype:M,id:h,method:E==null?null:E.toLowerCase(),novalidate:""},children:[k==null?null:{name:"h1",classList:["mb-3"],children:[N(u,k)]},v==null?null:v.map(D=>{let{type:a}=D;switch(a){case"html":return U(D,e);case"section":default:return le(D,e)}}),{name:"div",children:[i==null?null:{name:"button",attributes:{type:"reset"},classList:["btn","btn-danger","mb-3"],children:[N(u,i)]}," ",p==null?null:{name:"button",attributes:{type:"submit"},classList:["btn","btn-primary","mb-3"],children:[N(u,p)]}]}],events:{reset:(D,a)=>{let n=D;n.classList.remove("was-validated"),setTimeout(()=>{n.dispatchEvent(new Event("reset:after"))},0)},submit:(D,a)=>{let n=D;if(n.classList.add("was-validated"),n.dispatchEvent(new Event("reportvalidity")),!n.reportValidity()){a.preventDefault(),a.stopPropagation();let y=n.querySelector(":invalid");if(y instanceof HTMLElement)if(y instanceof HTMLFieldSetElement){let d=y.querySelector(":invalid");d instanceof HTMLElement&&d.focus()}else y.focus();return}if(m&&E&&s){a.preventDefault(),a.stopPropagation();let y=[];for(let d of O)y.push(d(n,s));Promise.all(y).then(()=>fetch(m,{body:JSON.stringify(T),headers:{...F},method:E})).then(d=>{L&&(window.location.href=L instanceof URL?L.href:L)},d=>{f&&(window.location.href=f instanceof URL?f.href:f)})}}},callback:D=>{let a=D,n=[];for(let y of c)n.push(y(a));Promise.all(n).then(()=>{H&&H(a,r,e)})}})}var re={title:"Enroll in a Course",submitLabel:"Enroll Now",action:"https://echo.free.beeceptor.com/enroll",method:"POST",sections:[{rows:[{fields:[{title:"Student Name",id:"studentName",name:"studentName",required:!0},{type:"email",title:"Email Address",id:"email",name:"email",required:!0}]},{fields:[{type:"select",title:"Choose a Course",id:"course",name:"course",required:!0,choices:[{value:"",text:"Select"},{value:"html",text:"Intro to HTML"},{value:"css",text:"CSS Basics"},{value:"js",text:"JavaScript Essentials"},{value:"php",text:"PHP for Beginners"}]},{type:"date",title:"Preferred Start Date",id:"startDate",name:"startDate",required:!0,cols:{md:3}}]}]}]},se={},de=ne(re,se);document.getElementById("container")?.append(de);})();
